{% set page = 'package-file' %}
{% set selected_package_name = package %}
{% extends 'base.html' %}

{% block title %}{{filename}} | {{package}} | PyPi View{% endblock %}

{% block content %}
    <h1>{{filename}}</h1>

    {% if metadata_path %}
        <h2>Metadata</h2>
        <table border="1">
            {% for key, values in metadata.items()|sort %}
                {% for value in values %}
                    <tr>
                        {% if loop.index == 1 %}
                            <th rowspan="{{values|length}}">{{key}}</th>
                        {% endif %}
                        <td>{{value}}</td>
                    </tr>
                {% endfor %}
            {% endfor %}
        </table>
        <a href="{{url_for('package_file_archive_path', package=package, filename=filename, archive_path=metadata_path)}}">
            View Raw Metadata
        </a>
    {% endif %}

    <h2>Files</h2>
    <ul>
        {% for entry in entries|sort(attribute="path") %}
            <li>
                <a
                    href="{{url_for('package_file_archive_path', package=package, filename=filename, archive_path=entry.path)}}"
                >{{entry.path}}</a>
                ({{entry.size}} bytes)
            </li>
        {% endfor %}
    </ul>
{% endblock %}

{# vim: ft=jinja
#}
